<app-carousel></app-carousel>
<main class="mw mx-auto my-5 w-100">
  <div class="container-fluid m-0 p-0">
    <div class="row m-0 p-0">
      <section class="col-md-4 order-md-1 order-2 p-2">
        <section class="w-100 overflow-hidden mb-2">
          <h2 class="m-0 p-0 mb-2 thx-5 rounded px-3 fw-normal h5 thx-bg-2 p-2 text-start text-md-start" translate>home.categories</h2>
          <ul *ngIf="categories.length > 0" class="w-100 overflow-hidden cul">
            <li class="px-2 py-1 ps-md-3 mb-2 mb-md-1 fw-bold fs-6 lead overflow-hidden text-start text-md-start"
              *ngFor="let c of categories"><a class="text-decoration-none text-success"
                href="/category/{{c.title_slug}}">{{c.title}}
                <span *ngIf="c.post_count > 0" class="badge thx-bg-3 thx-1 ms-2 rounded-5">{{abbr(c.post_count)}}</span>
              </a></li>
          </ul>
          <p *ngIf="categories.length == 0" class="thx-3 fs-6 m-0 p-0 ps-md-3 text-md-start text-center">
            <small translate><i class="bi bi-emoji-wink-fill me-2"></i> {{ 'nothing' | translate }}</small>
          </p>
        </section>
        <section class="w-100 overflow-hidden">
          <h2 class="m-0 p-0 mb-2 thx-5 rounded px-3 fw-normal h5 thx-bg-2 p-2 text-start text-md-start" translate>home.sections</h2>
          <ul *ngIf="sections.length > 0" class="w-100 overflow-hidden cul">
            <li class="px-2 py-1 ps-md-3 mb-2 mb-md-1 fw-bold fs-6 lead overflow-hidden text-start text-md-start"
              *ngFor="let s of sections"><a class="text-decoration-none text-success"
                href="/section/{{s.title_slug}}">{{s.title}}
              </a></li>
          </ul>
          <p *ngIf="sections.length == 0" class="thx-3 fs-6 m-0 p-0 ps-md-3 text-md-start text-center">
            <small translate><i class="bi bi-emoji-wink-fill me-2"></i> {{ 'nothing' | translate }}</small>
          </p>
        </section>
      </section>
      <section class="col-md-8 order-md-2 p-2 order-1">
        <h2 class="m-0 p-0 mb-3 thx-5 fw-normal h2 text-start text-md-start" translate>home.latest</h2>
        <div class="artcont mb-2 d-flex flex-column flex-wrap flex-md-row justify-content-start align-items-start">
          <article *ngFor="let p of posts" class="art mb-3">
            <a href="/post/{{p.slug}}" class="anc d-flex flex-row flex-md-column pe-md-4 ps-md-0 mb-md-2">
              <figure class="fig m-0 p-0">
                <img class="w-100 h-100 fix" src="{{p.image || PDI}}" alt="{{p.image_title || p.title}}"
                (error)="p.image = PI">
              </figure>
              <div class="det pt-md-1 pt-0 ps-2 ps-md-0">
                <h3 class="m-0 p-0 h3 fs-5 fw-bold text-success">{{p.title}}</h3>
                <time [dateTime]="SEOD(p.timestamp)" class="m-0 fs-6x thx-3 p-0">{{p.timestamp}}</time>
                <span *ngIf="p.pinned" class="m-0 ms-2 fs-6x thx-3 p-0"><i class="bi bi-pin-fill"></i></span>
              </div>
            </a>
          </article>
        </div>
        <p *ngIf="posts.length == 0" class="thx-3 fs-6 m-0 p-0 text-md-start my-3 text-center">
          <small translate><i class="bi bi-emoji-wink-fill me-2"></i> {{ 'nothing' | translate }}</small>
        </p>
        <div class="text-start w-100 text-md-start mb-4 mb-md-0 mt-4 mt-md-0">
          <button (click)="loadMore()" [disabled]="isLoading" *ngIf="posts.length > 0 && !endOfPost" class="btn btn-success aslign-self-center"><div *ngIf="isLoading" class="spinner-border thx-5 spinner-border-sm me-2"></div><i *ngIf="!isLoading" class="bi bi-plus-lg me-2"></i><span translate>home.more</span></button>
        </div>
      </section>
    </div>
  </div>
</main>

<section>
  <app-news></app-news>
</section>

<app-footer></app-footer>

<app-btt></app-btt>
